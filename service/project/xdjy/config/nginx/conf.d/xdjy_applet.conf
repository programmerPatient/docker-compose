server {
    listen 8080;
    root /var/www/php/lumen_content/public;
    index index.php index.html index.htm;
    server_name 127.0.0.1;
    error_log /var/log/nginx/lumen_content.error.log error;
    access_log /var/log/nginx/lumen_content.log;
    client_max_body_size 200000m;
    location / {
        try_files $uri $uri/ /index.php?$query_string;
    }

#     location = /MHSXSF {
#         proxy_pass http://golang1.18:8990/api/xcx/scheme;
#     }

#     location = /ADSDASD {
#         proxy_pass  http://golang1.18:8990/static/html/media_preview.html;
#     }
   
#     location /api/company/name {
#         proxy_pass  http://golang1.18:8990/api/company/name;
#     }
#     location /api/company/job_list {
#         proxy_pass  http://golang1.18:8990/api/company/job_list;
#     }
#     location /api/index {
#         proxy_pass  http://golang1.18:8990/api/index;
#     }
#     location /api/customer {
#         proxy_pass  http://golang1.18:8990/api/customer;
#     }
#     location = /api/behavior/in {
#         proxy_pass  http://golang1.18:8990/api/behavior/in;
#     }
#     location /api/behavior/out {
#         proxy_pass  http://golang1.18:8990/api/behavior/out;
#     }
#     location /api/active/rank/list {
#         proxy_pass  http://golang1.18:8990/api/active/rank/list;
#     }
#     location /api/active/subscribe {
#         proxy_pass  http://golang1.18:8990/api/active/subscribe;
#     }
#     location /api/active/hb/list {
#         proxy_pass  http://golang1.18:8990/api/active/hb/list;
#     }
#     location /api/active/sub-status {
#         proxy_pass  http://golang1.18:8990/api/active/sub-status;
#     }
#     location /api/active/create-image {
#         proxy_pass  http://golang1.18:8990/api/active/create-image;
#     }
#     location /api/active/user/record {
#         proxy_pass  http://golang1.18:8990/api/active/user/record;
#     }
#     location /api/active/views {
#         proxy_pass  http://golang1.18:8990/api/active/views;
#     }
#     location /api/live/index/pop-window {
#         proxy_pass  http://golang1.18:8990/api/live/index/pop-window;
#     }
#     location /api/live/index/window {
#         proxy_pass  http://golang1.18:8990/api/live/index/window;
#     }
#     location = /live_recent.php {
#         proxy_pass  http://golang1.18:8990/api/active/live_recent;
#     }
#     location = /is_sub.php {
#         proxy_pass  http://golang1.18:8990/api/active/sub-status;
#     }
#     location = /views.php {
#         proxy_pass  http://golang1.18:8990/api/active/live_views;
#     }


#     location /api/tool/index {
#         proxy_pass  http://golang1.18:8990/api/tool/index;
#     }
#     location = /api/article/pre-order {
#         proxy_pass  http://golang1.18:8990/api/article/pre-order;
#     }
#     location = /api/demo/list {
#         proxy_pass  http://golang1.18:8990/api/demo/list;
#     }
    location = /api/sms_code {
        proxy_pass  http://golang1.21:8990/api/sms_code;
    }
    location = /api/sms_code/check {
        proxy_pass  http://golang1.21:8990/api/sms_code/check;
    }
    

    

#     location = /api/pre-order/detail {
#         proxy_pass  http://golang1.18:8990/api/pre-order/detail;
#     }
#     location = /api/pre-order/types {
#         proxy_pass  http://golang1.18:8990/api/pre-order/types;
#     }
#     location = /api/pre-order/notify {
#         proxy_pass  http://golang1.18:8990/api/pre-order/notify;
#     }
#     location = /api/pre-order/own {
#         proxy_pass  http://golang1.18:8990/api/pre-order/own;
#     }

#     location = /api/demo/code/create {
#         proxy_pass  http://golang1.18:8990/api/demo/code/create;
#     }
#     location = /api/demo/code/bin {
#         proxy_pass  http://golang1.18:8990/api/demo/code/bin;
#     }
#     location = /api/demo/detail {
#         proxy_pass  http://golang1.18:8990/api/demo/detail;
#     }
#     location = /api/demo/learn {
#         proxy_pass  http://golang1.18:8990/api/demo/learn;
#     }
#     location = /api/demo/learn/pos {
#         proxy_pass  http://golang1.18:8990/api/demo/learn/pos;
#     }
#     location = /api/demo/create/company {
#         proxy_pass  http://golang1.18:8990/api/demo/create/company;
#     }
#     location = /api/demo/detail/new {
#         proxy_pass  http://golang1.18:8990/api/demo/detail/new;
#     }
#     location = /api/demo/create/learn {
#         proxy_pass  http://golang1.18:8990/api/demo/create/learn;
#     }
#     location = /api/demo/company/check {
#         proxy_pass  http://golang1.18:8990/api/demo/company/check;
#     }
#     location = /api/tool/banner/list {
#         proxy_pass  http://golang1.18:8990/api/tool/banner/list;
#     }

#     location = /api/user/carte {
#         proxy_pass  http://golang1.18:8990/api/user/carte;
#     }
#     location = /api/user/carte/resources {
#         proxy_pass  http://golang1.18:8990/api/user/carte/resources;
#     }
#     # location = /api/assess/records {
#     #    proxy_pass  http://golang1.18:8990/api/assess/records;
#     # }

#     # location = /api/assess/last-record {
#     #    proxy_pass  http://golang1.18:8990/api/assess/last-record;
#     # }
#     location = /api/assess/result {
#         proxy_pass  http://golang1.18:8990/api/assess/result;
#     }
#     location = /api/assess/leader/company-detail {
#         proxy_pass  http://golang1.18:8990/api/assess/leader/company-detail;
#     }
#     location = /api/assess/partner/belong/company_report {
#         proxy_pass  http://golang1.18:8990/api/assess/partner/belong/company_report;
#     }
#     location = /api/assess/partner/company-detail {
#         proxy_pass  http://golang1.18:8990/api/assess/partner/company-detail;
#     }
    

#    ################案例库相关接口 start#######################
#    #    location = /api/anliku/list {
#    #        proxy_pass  http://golang1.18:8990/api/anliku/list;
#    #     }
#    #  location = /api/anliku/select-items {
#    #     proxy_pass  http://golang1.18:8990/api/anliku/select-items;
#    #  }
#    #   location = /api/anliku/rec-list {
#    #     proxy_pass  http://golang1.18:8990/api/anliku/rec-list;
#    #  }
#    # location = /api/anliku/area-list {
#    #     proxy_pass  http://golang1.18:8990/api/anliku/area-list;
#    #  }
#    #  location = /api/anliku/categories {
#    #     proxy_pass  http://golang1.18:8990/api/anliku/categories;
#    #  }
#    #  location = /api/anliku/user {
#    #     proxy_pass  http://golang1.18:8990/api/anliku/user;
#    #  }
#     # location = /api/anliku/article/rec {
#     #    proxy_pass  http://golang1.18:8990/api/anliku/article/rec;
#     # }
#     # location = /api/anliku/video/rec {
#     #    proxy_pass  http://golang1.18:8990/api/anliku/video/rec;
#     # }
#    ################案例库相关接口 end#########################


#    ################体检表相关接口 start#######################
#    # location = /api/assess/records {
#    #     proxy_pass  http://golang1.18:8990/api/assess/records;
#    # }
#    # location = /api/assess/last-record {
#    #     proxy_pass  http://golang1.18:8990/api/assess/last-record;
#    # }
#    # location = /api/assess/submit {
#    #     proxy_pass  http://golang1.18:8990/api/assess/submit;
#    # }
#     location = /api/assess/create-company {
#         proxy_pass  http://golang1.18:8990/api/assess/create-company;
#     }
#    # location = /api/assess/company-list {
#    #     proxy_pass  http://golang1.18:8990/api/assess/company-list;
#    # }
#    # location = /api/assess/company-detail {
#    #     proxy_pass  http://golang1.18:8990/api/assess/company-detail;
#    # }
#    # location = /api/assess/detail {
#    #     proxy_pass  http://golang1.18:8990/api/assess/detail;
#    # }
#    # location = /api/assess/list {
#    #     proxy_pass  http://golang1.18:8990/api/assess/list;
#    # }
#    ################体检表相关接口 end#######################


#    ################tool相关接口 start#######################

#     location = /api/tool/tj/clue {
#         proxy_pass  http://golang1.18:8990/api/tool/tj/clue;
#     }
#     location = /api/tool/tj/clue/detail {
#         proxy_pass  http://golang1.18:8990/api/tool/tj/clue/detail;
#     }
#     location = /api/tool/search/name {
#         proxy_pass  http://golang1.18:8990/api/tool/search/name;
#     }
#     location = /api/tool/tj/spread-line {
#         proxy_pass  http://golang1.18:8990/api/tool/tj/spread-line;
#     }
#    #  location = /api/tool/tj/referral {
#    #    proxy_pass  http://golang1.18:8990/api/tool/tj/referral;
#    #  }

#    #入学申请表相关接口start
#    # location = /api/tool/tj/admission_apply/index {
#    #    proxy_pass  http://golang1.18:8990/api/tool/tj/admission_apply/index;
#    #  }
#    #   location = /api/tool/tj/admission_apply/sms_verify {
#    #    proxy_pass  http://golang1.18:8990/api/tool/tj/admission_apply/sms_verify;
#    #  }
#    #  location = /api/tool/tj/admission_apply/submit {
#    #    proxy_pass  http://golang1.18:8990/api/tool/tj/admission_apply/submit;
#    #  }
#    #入学申请表相关接口end

#    ################tool相关接口 end#######################

#    ################校长自助后台同步数据相关接口 start###########################
#     location = /rector/manage/crm-class/sync {
#         proxy_pass  http://golang1.18:8990/rector/manage/crm-class/sync;
#     }
#     location = /rector/manage/crm-user/sync {
#         proxy_pass  http://golang1.18:8990/rector/manage/crm-user/sync;
#     }
#     location = /rector/manage/crm-teacher/sync {
#         proxy_pass  http://golang1.18:8990/rector/manage/crm-teacher/sync;
#     }
#    ################校长自助后台同步数据相关接口相关接口 end#######################
#     location = /api/xcx/scheme {
#         proxy_pass  http://golang1.18:8990/api/xcx/scheme;
#     }
#     location = /api/auth/gzh/oauth {
#         proxy_pass  http://golang1.18:8990/api/auth/gzh/oauth;
#     }
#     location = /api/user/is_enterprise_leader {
#         proxy_pass  http://golang1.18:8990/api/user/is_enterprise_leader;
#     }
#     location = /api/module/switch {
#         proxy_pass  http://golang1.18:8990/api/module/switch;
#     }

#     location = /api/tool/user/my_info {
#         proxy_pass  http://golang1.18:8990/api/tool/user/my_info;
#     }

#     location ^~ /api/go/ {
#         proxy_pass  http://golang1.18:8990;
#     }
#     location ^~ /go/ {
#         proxy_pass  http://golang1.18:8990;
#     }

    location ~ ^/(status|ping)$ {
        fastcgi_pass php7.3:9000;
        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
        include fastcgi_params;
    }

    location ~ \.php$ {
        try_files $uri /index.php =404;
        client_body_buffer_size 10M;
        fastcgi_param REQUEST_BODY $request_body;
        fastcgi_split_path_info ^(.+\.php)(/.+)$;
        fastcgi_pass php7.3:9000;
        fastcgi_index index.php;
        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
        include fastcgi_params;
    }
}
